import { isValidIP6 } from "../lib";

const data: [string, boolean][] = [
    ['fe80:0000:0000:0000:0204:61ff:fe9d:f156', true],
    ['fe80:0000:0000:0000:0204:61ff:fe9d:f156/128', true],
    ['fe80:0000:0000:0000:0204:61ff:fe9d:f156/127/128', false],
    ['fe80:0000:0000:0000:0204:61ff:fe9d:f156/127/', false],
    ['fe80:0:0:0:204:61ff:fe9d:f156', true],
    ['fe80:0:0:0:204:61ff:fe9d:f156/128', true],
    ['fe80:0:0:0:204:61ff:fe9d:f156/127/128', false],
    ['fe80:0:0:0:204:61ff:fe9d:f156/127/', false],
    ['fe80::204:61ff:fe9d:f156', true],
    ['fe80::204:61ff:fe9d:f156/128', true],
    ['fe80::204:61ff:fe9d:f156/127/128', false],
    ['fe80::204:61ff:fe9d:f156/127/', false],
    ['fe80:0000:0000:0000:0204:61ff:254.157.241.86', true],
    ['fe80:0000:0000:0000:0204:61ff:254.157.241.86/128', true],
    ['fe80:0000:0000:0000:0204:61ff:254.157.241.86/127/128', false],
    ['fe80:0000:0000:0000:0204:61ff:254.157.241.86/127/', false],
    ['fe80:0:0:0:0204:61ff:254.157.241.86', true],
    ['fe80:0:0:0:0204:61ff:254.157.241.86/128', true],
    ['fe80:0:0:0:0204:61ff:254.157.241.86/127/128', false],
    ['fe80:0:0:0:0204:61ff:254.157.241.86/127/', false],
    ['fe80::204:61ff:254.157.241.86', true],
    ['fe80::204:61ff:254.157.241.86/128', true],
    ['fe80::204:61ff:254.157.241.86/127/128', false],
    ['fe80::204:61ff:254.157.241.86/127/', false],
    ['fe80::204:61ff:254.157.241.999/128', false],
    ['fe80::204:61fg:254.157.241.86/127', false],
    ['fe80:0000:0000:0000:0204:61ff:WXYZ:f156/128', false],  // TODO FIX
    ['fe80:::1/128', false],
    ['::1', true],
    ['::1/128', true],
    ['::1/128/127', false],
    ['::1/128/', false],
    [':::1/128', false],
    ['2001::', true],
    ['2001::/128', true],
    ['2001::/128/', false],
    ['2001::/128/127', false],

];

describe.each(data)('isValidIP6("%s")', (ip, expected) => {
    test(`returns ${expected}`, () =>{
        expect(isValidIP6(ip)).toBe(expected);
    });
});


